{
  "round_metrics": [],
  "client_weights": [],
  "training_logs": [
    {
      "event_type": "training_started",
      "timestamp": "2025-06-30T17:12:26.103567",
      "details": {
        "num_clients": 2,
        "num_rounds": 2,
        "baseline_mode": true
      }
    },
    {
      "event_type": "training_completed",
      "timestamp": "2025-06-30T17:12:26.706377",
      "details": {
        "total_rounds": 2,
        "final_metrics": {
          "accuracy": 0.2163,
          "precision": 0.2163,
          "recall": 1.0,
          "f1_score": 0.3556688317027049,
          "detection_rate": 1.0,
          "false_positive_rate": 1.0,
          "true_negative_rate": 0.0,
          "loss": 0.7783262352593029
        }
      }
    },
    {
      "event_type": "centralized_training_started",
      "timestamp": "2025-06-30T17:12:26.707632",
      "details": {
        "epochs": 20,
        "learning_rate": 0.001,
        "device": "cpu"
      }
    },
    {
      "event_type": "centralized_training_completed",
      "timestamp": "2025-06-30T17:14:11.901188",
      "details": {
        "final_metrics": {
          "accuracy": 0.9922,
          "precision": 0.9797514956281639,
          "recall": 0.9842810910772076,
          "f1_score": 0.9820110701107012,
          "detection_rate": 0.9842810910772076,
          "false_positive_rate": 0.005614393262728085,
          "true_negative_rate": 0.9943856067372719,
          "loss": 0.0466561183595553
        }
      }
    }
  ],
  "final_metrics": {
    "federated": {
      "accuracy": 0.2163,
      "precision": 0.2163,
      "recall": 1.0,
      "f1_score": 0.3556688317027049,
      "detection_rate": 1.0,
      "false_positive_rate": 1.0,
      "true_negative_rate": 0.0,
      "loss": 0.7783262352593029
    },
    "centralized": {
      "accuracy": 0.9922,
      "precision": 0.9797514956281639,
      "recall": 0.9842810910772076,
      "f1_score": 0.9820110701107012,
      "detection_rate": 0.9842810910772076,
      "false_positive_rate": 0.005614393262728085,
      "true_negative_rate": 0.9943856067372719,
      "loss": 0.0466561183595553
    }
  },
  "dataset_stats": {
    "train_size": 54000,
    "val_size": 6000,
    "test_size": 10000,
    "anomaly_digits": [
      1,
      7
    ],
    "total_samples": 70000,
    "train_normal_estimated": 42390,
    "train_anomaly_estimated": 11610,
    "val_normal_estimated": 4692,
    "val_anomaly_estimated": 1308,
    "test_normal_estimated": 7520,
    "test_anomaly_estimated": 2480
  },
  "experiment_config": {
    "model": {
      "type": "MLP",
      "mlp": {
        "input_dim": 784,
        "hidden_dims": [
          256,
          128,
          64
        ],
        "output_dim": 2
      },
      "lstm": {
        "input_dim": 784,
        "hidden_dim": 128,
        "num_layers": 2,
        "output_dim": 2
      }
    },
    "client": {
      "learning_rate": 0.001,
      "batch_size": 32,
      "local_epochs": 5,
      "optimizer": "Adam"
    },
    "federated": {
      "num_clients": 2,
      "num_rounds": 2,
      "fraction_fit": 0.8,
      "fraction_evaluate": 0.2,
      "min_fit_clients": 5,
      "min_evaluate_clients": 2,
      "min_available_clients": 5,
      "strategy": "FedAdam",
      "strategy_config": {
        "eta": 0.001,
        "eta_l": 0.001,
        "beta_1": 0.9,
        "beta_2": 0.999,
        "tau": 0.001
      },
      "iot_config": {
        "max_memory_mb": 512,
        "max_cpu_percent": 70,
        "connection_timeout": 30,
        "resource_monitoring": true,
        "adaptive_batch_size": true,
        "min_batch_size": 8,
        "max_batch_size": 64
      }
    },
    "trust": {
      "enabled": true,
      "trust_threshold": 0.7,
      "trust_decay_factor": 0.95,
      "reputation_weight": 0.3
    },
    "data": {
      "dataset_type": "mnist",
      "data_dir": "data/MNIST",
      "download": true,
      "anomaly_digits": [
        1,
        7
      ],
      "target_column": "label",
      "feature_columns": [],
      "test_size": 0.2,
      "validation_size": 0.1,
      "random_state": 42,
      "normalize": true,
      "handle_missing": "mean",
      "num_workers": 0,
      "dataset_size": 5000,
      "anomaly_ratio": 0.1,
      "distribution": "iid"
    },
    "training": {
      "device": "auto",
      "seed": 42,
      "epochs": 20,
      "early_stopping": true,
      "patience": 10,
      "save_checkpoints": true,
      "checkpoint_dir": "checkpoints"
    },
    "logging": {
      "level": "INFO",
      "log_file": "training.log",
      "log_metrics": true,
      "log_frequency": 10
    },
    "metrics": [
      "accuracy",
      "precision",
      "recall",
      "f1_score",
      "auc"
    ],
    "anomaly_detection": {
      "threshold": 0.5,
      "contamination": 0.1,
      "method": "classification"
    },
    "experiment": {
      "name": "trust_mcnet_mnist_baseline",
      "description": "MNIST anomaly detection with random weight aggregation",
      "baseline_mode": true,
      "save_results": true,
      "results_dir": "results",
      "log_level": "INFO",
      "save_plots": true,
      "plot_format": "png",
      "metrics": [
        "accuracy",
        "precision",
        "recall",
        "f1_score",
        "detection_rate"
      ],
      "shap_analysis": true,
      "shap_samples": 100
    }
  }
}